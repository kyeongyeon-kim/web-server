<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <title>Page Title</title>
</head>

<body>
    <div id="container">
        <input id="user-id" type="number">
        <button id="send">전송</button>
    </div>
    <div id="result"></div>
</body>
<script>
    // ajax
    // 비동기적 웹페이지의 특징 : 페이지가 깜빡거리지 않음.
    // 동기적 흐름
    // console.log(1);
    // console.log(2);
    // console.log(3);
    // console.log(4);
    // console.log(5);
    // console.log(6);
    // console.log(7);
    let send = document.getElementById("send");
    let result = document.getElementById("result");
    let userId = document.getElementById("user-id");

    send.addEventListener("click", function (e) {
        // text : 바디영역 문자열을 가져와주는 메소드
        // fetch 비동기적흐름으로 원래 흐름과 무관하게 모든 정상적인 흐름이 동작되고 흐름이 시작됨

        let num = userId.value;

        if (num) {
            // 비동기 요청보낼 수있는 fetch : 동기적 흐름이 일어나지 않게 해줌
            // then의 동작 순서 : fetch의 동작이 다 끝난 후 동작
            fetch("https://reqres.in/api/users/" + num)
                .then(resp => resp.text())
                .then((text) => {
                    let p = document.createElement("p");
                    p.innerText = text;

                    result.append(p);
                })
        }
    })
</script>

</html>